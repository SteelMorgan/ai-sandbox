# Git-регламент для агента (операционный)

## Жёсткие правила

- Никогда не пушить в `main/master`.
- Любые изменения попадают в `main` **только через PR**.
- Не пытаться осознанно обходить локальные предохранители (хуки/блокировки).

## Именование веток

Базовая ветка:
- `agent` (долгоживущая, “интеграционная” для агента)

Формат сабветок под задачи (UTC дата):
- `agent/<task>-<yyyymmdd>`

Примеры сабветок:
- `agent/fix-auth-20260128`
- `agent/add-devcontainer-20260128`

## PR flow

- Работа: `agent/<task>-<date>` → merge в `agent`
- PR: `agent` → base: `main`
- Описание PR: что сделано + как проверить (test plan)

## Восстановление после факапа

Источник истины — git. Если контейнер/volume испорчен:

- удалить контейнер/volume (если нужно)
- пересоздать devcontainer
- `git clone` заново

## Что запрещено хранить в репозитории

- PAT/ключи/секреты
- `.env` с реальными кредами
- любые токены в конфиге/скриптах

